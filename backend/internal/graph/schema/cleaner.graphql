enum CleanerStatus {
  INVITED
  PENDING_REVIEW
  ACTIVE
  INACTIVE
  SUSPENDED
}

type CleanerProfile {
  id: ID!
  userId: ID
  user: User
  company: Company!
  fullName: String!
  phone: String
  email: String
  bio: String
  avatarUrl: String
  status: CleanerStatus!
  isCompanyAdmin: Boolean!
  inviteToken: String
  ratingAvg: Float!
  totalJobsCompleted: Int!
  documents: [CleanerDocument!]!
  personalityAssessment: PersonalityAssessment
  availability: [AvailabilitySlot!]!
  createdAt: DateTime!
}

type CleanerDocument {
  id: ID!
  documentType: String!
  fileUrl: String!
  fileName: String!
  status: DocumentStatus!
  uploadedAt: DateTime!
  reviewedAt: DateTime
  rejectionReason: String
}

type AvailabilitySlot {
  id: ID!
  dayOfWeek: Int!
  startTime: String!
  endTime: String!
  isAvailable: Boolean!
}

type CleanerStats {
  totalJobsCompleted: Int!
  averageRating: Float!
  totalReviews: Int!
  thisMonthJobs: Int!
  thisMonthEarnings: Float!
}

type CleanerPerformance {
  cleanerId: ID!
  fullName: String!
  ratingAvg: Float!
  totalCompletedJobs: Int!
  thisMonthCompleted: Int!
  totalEarnings: Float!
  thisMonthEarnings: Float!
}

type CleanerDailyEarnings {
  date: String!
  amount: Float!
}

type CleanerDateOverride {
  id: ID!
  date: String!
  isAvailable: Boolean!
  startTime: String!
  endTime: String!
}

extend type Query {
  myCleaners: [CleanerProfile!]!
  myCleanerProfile: CleanerProfile!
  myCleanerStats: CleanerStats!
  cleanerPerformance(cleanerId: ID!): CleanerPerformance!
  myCleanerAvailability: [AvailabilitySlot!]!
  myCleanerBookingsByDateRange(from: String!, to: String!): [Booking!]!
  cleanerEarningsByDateRange(from: String!, to: String!): [CleanerDailyEarnings!]!
  searchCleanerBookings(query: String, status: String, dateFrom: String, dateTo: String, limit: Int, offset: Int): BookingConnection!
  myCleanerReviews(limit: Int, offset: Int): ReviewConnection!
  myCleanerCompanySchedule: [CompanyWorkSchedule!]!
  myCleanerDateOverrides(from: String!, to: String!): [CleanerDateOverride!]!
  cleanerDateOverrides(cleanerId: ID!, from: String!, to: String!): [CleanerDateOverride!]!
  cleanerDocuments(cleanerId: ID!): [CleanerDocument!]!
  pendingCleanerDocuments: [CleanerDocument!]!
}

extend type Mutation {
  inviteCleaner(input: InviteCleanerInput!): CleanerProfile!
  inviteSelfAsCleaner: CleanerProfile!
  updateCleanerStatus(id: ID!, status: CleanerStatus!): CleanerProfile!
  acceptInvitation(token: String!): CleanerProfile!
  updateAvailability(slots: [AvailabilitySlotInput!]!): [AvailabilitySlot!]!
  updateCleanerAvailability(cleanerId: ID!, slots: [AvailabilitySlotInput!]!): [AvailabilitySlot!]!
  updateCleanerProfile(input: UpdateCleanerProfileInput!): CleanerProfile!
  uploadCleanerAvatar(cleanerId: ID!, file: Upload!): CleanerProfile!
  setCleanerDateOverride(date: String!, isAvailable: Boolean!, startTime: String!, endTime: String!): CleanerDateOverride!
  setCleanerDateOverrideByAdmin(cleanerId: ID!, date: String!, isAvailable: Boolean!, startTime: String!, endTime: String!): CleanerDateOverride!
  uploadCleanerDocument(cleanerId: ID!, documentType: String!, file: Upload!): CleanerDocument!
  deleteCleanerDocument(id: ID!): Boolean!
  reviewCleanerDocument(id: ID!, approved: Boolean!, rejectionReason: String): CleanerDocument!
  activateCleaner(id: ID!): CleanerProfile!
}

input InviteCleanerInput {
  fullName: String!
  email: String!
  phone: String
}

input AvailabilitySlotInput {
  dayOfWeek: Int!
  startTime: String!
  endTime: String!
  isAvailable: Boolean!
}

input UpdateCleanerProfileInput {
  phone: String
  bio: String
}
