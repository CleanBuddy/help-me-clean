type ServiceDefinition {
  id: ID!
  serviceType: ServiceType!
  nameRo: String!
  nameEn: String!
  descriptionRo: String
  descriptionEn: String
  basePricePerHour: Float!
  minHours: Float!
  hoursPerRoom: Float!
  hoursPerBathroom: Float!
  hoursPer100Sqm: Float!
  houseMultiplier: Float!
  petDurationMinutes: Int!
  icon: String
  isActive: Boolean!
  includedItems: [String!]!
}

type ServiceExtra {
  id: ID!
  nameRo: String!
  nameEn: String!
  price: Float!
  durationMinutes: Int!
  icon: String
  isActive: Boolean!
  allowMultiple: Boolean!
  unitLabel: String
}

type PriceEstimate {
  hourlyRate: Float!
  estimatedHours: Float!
  propertyMultiplier: Float!
  petsSurcharge: Float!
  subtotal: Float!
  extras: [ExtraLineItem!]!
  total: Float!
}

type ExtraLineItem {
  extra: ServiceExtra!
  quantity: Int!
  lineTotal: Float!
}

extend type Query {
  availableServices: [ServiceDefinition!]!
  availableExtras: [ServiceExtra!]!
  estimatePrice(input: PriceEstimateInput!): PriceEstimate!
}

input PriceEstimateInput {
  serviceType: ServiceType!
  numRooms: Int!
  numBathrooms: Int!
  areaSqm: Int
  propertyType: String
  hasPets: Boolean
  extras: [ExtraInput!]
}

extend type Query {
  allServices: [ServiceDefinition!]!
  allExtras: [ServiceExtra!]!
}

extend type Mutation {
  updateServiceDefinition(input: UpdateServiceDefinitionInput!): ServiceDefinition!
  createServiceDefinition(input: CreateServiceDefinitionInput!): ServiceDefinition!
  updateServiceExtra(input: UpdateServiceExtraInput!): ServiceExtra!
  createServiceExtra(input: CreateServiceExtraInput!): ServiceExtra!
}

input UpdateServiceDefinitionInput {
  id: ID!
  nameRo: String!
  nameEn: String!
  basePricePerHour: Float!
  minHours: Float!
  hoursPerRoom: Float!
  hoursPerBathroom: Float!
  hoursPer100Sqm: Float!
  houseMultiplier: Float!
  petDurationMinutes: Int!
  isActive: Boolean!
  includedItems: [String!]
}

input CreateServiceDefinitionInput {
  serviceType: ServiceType!
  nameRo: String!
  nameEn: String!
  basePricePerHour: Float!
  minHours: Float!
  hoursPerRoom: Float!
  hoursPerBathroom: Float!
  hoursPer100Sqm: Float!
  houseMultiplier: Float!
  petDurationMinutes: Int!
  isActive: Boolean!
  includedItems: [String!]
}

input UpdateServiceExtraInput {
  id: ID!
  nameRo: String!
  nameEn: String!
  price: Float!
  durationMinutes: Int!
  isActive: Boolean!
  allowMultiple: Boolean!
  unitLabel: String
}

input CreateServiceExtraInput {
  nameRo: String!
  nameEn: String!
  price: Float!
  durationMinutes: Int!
  isActive: Boolean!
  allowMultiple: Boolean!
  unitLabel: String
}
